# =====================================================
# HAWKI - Shared Environment Configuration
# =====================================================
# This file contains all shared configuration values
# that are common across all deployment profiles.
#
# Profile-specific overrides are loaded from:
# - .env.dev (development mode)
# - .env.staging (staging mode)
# - .env.prod (production mode)
#
# Use the initialization script to generate .env:
#   ./env-init.sh --profile=dev|staging|prod
# =====================================================

# -----------------------------------------------------
# Application Configuration
# -----------------------------------------------------
APP_NAME=HAWKI2
APP_URL=https://your-domain.com
APP_TIMEZONE="CET"
APP_LOCALE="de_DE"

# -----------------------------------------------------
# Encryption Keys (Auto-generated by env-init.sh)
# -----------------------------------------------------
# DO NOT share these keys or commit them to version control!
APP_KEY=
USERDATA_ENCRYPTION_SALT=
INVITATION_SALT=
AI_CRYPTO_SALT=
PASSKEY_SALT=
BACKUP_SALT=

# -----------------------------------------------------
# Database Configuration
# -----------------------------------------------------
DB_CONNECTION=mysql
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=hawki
DB_USERNAME=hawki
DB_PASSWORD=changeme

# -----------------------------------------------------
# Redis Configuration
# -----------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_USERNAME=default
REDIS_PASSWORD=changeme
CACHE_STORE=redis

# -----------------------------------------------------
# Logging
# -----------------------------------------------------
LOG_CHANNEL=stderr

# -----------------------------------------------------
# File Converter Service
# -----------------------------------------------------
FILE_CONVERTER=hawki_converter
HAWKI_FILE_CONVERTER_API_URL=http://file-converter:8001/extract
HAWKI_FILE_CONVERTER_API_KEY=changeme

# -----------------------------------------------------
# Nginx Configuration
# -----------------------------------------------------
# Note: NGINX_HTTP_PORT and NGINX_HTTPS_PORT are set in profile files
# - dev: 8080/8443 (internal ports, mapped to 80/443 by Docker)
# - staging/prod: 80/443 (standard ports)
NGINX_EXTRA_PORT=
NGINX_HTTP2_STYLE=new

# -----------------------------------------------------
# Broadcasting Configuration
# -----------------------------------------------------
BROADCAST_CONNECTION=reverb
BROADCAST_DRIVER=reverb

# -----------------------------------------------------
# Reverb WebSocket Server
# -----------------------------------------------------
REVERB_SERVER=reverb
REVERB_APP_ID=1001
REVERB_APP_KEY=hawki-reverb
REVERB_APP_SECRET=secret
REVERB_PORT=443
REVERB_SCHEME=https
REVERB_SERVER_HOST=0.0.0.0
REVERB_SERVER_PORT=8080
REVERB_APP_MAX_MESSAGE_SIZE=250000

# -----------------------------------------------------
# Vite Frontend Configuration
# -----------------------------------------------------
VITE_APP_NAME="${APP_NAME}"
VITE_REVERB_APP_KEY="${REVERB_APP_KEY}"
VITE_REVERB_APP_CLUSTER=mt1
VITE_REVERB_HOST="${REVERB_HOST}"
VITE_REVERB_PORT="${REVERB_PORT}"
VITE_REVERB_SCHEME="${REVERB_SCHEME}"

# -----------------------------------------------------
# Profile-Specific Configuration
# -----------------------------------------------------
# The following values will be set by the selected profile:
# - APP_ENV (local/staging/production)
# - APP_DEBUG (true/false)
# - LOG_LEVEL (debug/error)
# - PROJECT_NAME (hawki-dev/staging/prod)
# - PROJECT_HAWKI_IMAGE (Docker image to use)
# - DOCKER_PROJECT_IP (127.0.0.1 or 0.0.0.0)
# - NGINX_SERVER_NAME (domain name)
# - NGINX_ENABLE_IPV6 (true/false)
# - REVERB_HOST (same as NGINX_SERVER_NAME)
# - DOCKER_UID/GID (user mapping for Docker)
# - DOCKER_HTTP_PROXY (optional proxy configuration)
# - QUEUE_CONNECTION (database or redis)
# =====================================================
